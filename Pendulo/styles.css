:root{
  --bg:#0b1226; --panel:#0f172a; --card:rgba(255,255,255,.04);
  --line:rgba(255,255,255,.10); --text:#e2e8f0; --muted:#94a3b8;
  --accent:#22c55e;
}

*{box-sizing:border-box}
body{margin:0;background:var(--bg);color:var(--text);font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif}
.topbar{
  display:flex;gap:12px;align-items:center;justify-content:space-between;
  padding:14px 16px;border-bottom:1px solid var(--line);background:#08102a;position:sticky;top:0;z-index:5
}
.brand{display:flex;gap:12px;align-items:center}
.dot{width:12px;height:12px;border-radius:50%;background:var(--accent);box-shadow:0 0 0 4px rgba(34,197,94,.15)}
.title{font-weight:700}
.subtitle{font-size:12px;color:var(--muted)}
.actions{display:flex;gap:8px;flex-wrap:wrap}

.btn{
  border:1px solid var(--line);background:rgba(255,255,255,.03);color:var(--text);
  padding:9px 12px;border-radius:10px;cursor:pointer
}
.btn:hover{background:rgba(255,255,255,.06)}
.btn.primary{border-color:rgba(34,197,94,.35);background:rgba(34,197,94,.14)}
.btn.primary:hover{background:rgba(34,197,94,.20)}

.layout{display:grid;grid-template-columns:380px 1fr;gap:14px;max-width:1250px;margin:0 auto;padding:14px}
.panel{
  background:var(--panel);border:1px solid var(--line);border-radius:14px;padding:14px;min-width:0
}
.panel h2{margin:10px 0 10px 0;font-size:14px;color:#cbd5e1}
.control{margin:10px 0;padding:10px;border:1px solid var(--line);border-radius:12px;background:var(--card)}
.row{display:flex;justify-content:space-between;gap:12px;margin-bottom:8px}
.val{color:#cbd5e1;font-variant-numeric:tabular-nums}
input[type="range"]{width:100%}
.hint{margin-top:6px;color:var(--muted);font-size:12px}

.grid2{display:grid;grid-template-columns:1fr;gap:10px}
.switchRow{
  display:flex;align-items:center;justify-content:space-between;gap:10px;
  padding:10px;border:1px solid var(--line);border-radius:12px;background:var(--card)
}
.switchRow span{color:#cbd5e1;font-size:13px}

.cards{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.card{
  border:1px solid var(--line);border-radius:12px;background:var(--card);padding:10px;min-width:0
}
.card .k{font-size:12px;color:var(--muted)}
.card .v{font-size:16px;font-weight:700;margin-top:6px;font-variant-numeric:tabular-nums}

.note{margin-top:10px;color:var(--muted);font-size:12px;line-height:1.4;border-top:1px dashed var(--line);padding-top:10px}

.stage{min-width:0}
.canvasWrap{
  position:relative;background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
  border:1px solid var(--line);border-radius:14px;overflow:hidden
}
#simCanvas{display:block;width:100%;height:420px}
.dragTip{
  position:absolute;left:12px;bottom:10px;font-size:12px;color:var(--muted);
  background:rgba(0,0,0,.28);padding:6px 8px;border:1px solid rgba(255,255,255,.10);border-radius:10px
}

.plots{display:grid;grid-template-columns:1fr 1fr;gap:14px;margin-top:14px}
.plotCard{border:1px solid var(--line);border-radius:14px;background:var(--panel);overflow:hidden}
.plotTitle{padding:10px 12px;border-bottom:1px solid var(--line);color:#cbd5e1;font-size:13px}
.plotCard canvas{display:block;width:100%;height:220px}

/* Tabla */
.tableWrap{overflow:auto;border:1px solid var(--line);border-radius:12px;background:var(--card)}
.dataTable{width:100%;border-collapse:collapse;font-size:12px}
.dataTable th,.dataTable td{padding:8px 10px;border-bottom:1px solid rgba(255,255,255,.08);text-align:right}
.dataTable th{text-align:right;color:#cbd5e1;background:rgba(255,255,255,.03);position:sticky;top:0}
.dataTable td{color:#e2e8f0;font-variant-numeric:tabular-nums}

@media (max-width: 980px){
  .layout{grid-template-columns:1fr}
  #simCanvas{height:360px}
  .plots{grid-template-columns:1fr}
}